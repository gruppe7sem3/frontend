<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kino Biografen</title>
  
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap/dist/css/bootstrap.min.css">
  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
  
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <!-- Placeholder for the navbar -->
  <div id="navbar-placeholder"></div>

  <!-- Hero section -->
  <div class="container-fluid bg-dark text-light p-5">
    <div class="container">
      <h1 class="display-4">Velkommen til Kino XP</h1>
      <p class="lead">Din ultimative destination for film, underholdning, og mere!</p>
    </div>
  </div>

  <!-- Movie Schedule -->
  <div class="container my-5" id="movie-container">
    <h2>Aktuelle film</h2>
    <div class="row" id="movie-cards">
      <!-- Movie Cards will be generated here -->
    </div>
  </div>

  <!-- Include jQuery (you may need to download it or use a CDN) -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <!-- Load the navbar using jQuery -->
  <script>
    $(function() {
      $('#navbar-placeholder').load('navbar.html');
    });
  </script>

  <!-- JavaScript to fetch and display movies -->
  <script>
    // Function to fetch JSON data from your API
    function fetchMovies() {
      fetch('http://localhost:2222/shows')
        .then((response) => response.json())
        .then((data) => {
          const movieContainer = document.getElementById('movie-cards');

          // Loop through the JSON data and create movie cards
          data.forEach((movie) => {
            const cardDiv = document.createElement('div');
            cardDiv.classList.add('col-md-4', 'mb-4');

            const card = document.createElement('div');
            card.classList.add('card');

            const img = document.createElement('img');
            img.src = movie.poster; // Assuming your JSON data includes a 'poster' field
            img.classList.add('card-img-top');
            img.alt = movie.title; // Assuming your JSON data includes a 'title' field

            const cardBody = document.createElement('div');
            cardBody.classList.add('card-body');

            const title = document.createElement('h5');
            title.classList.add('card-title');
            title.textContent = movie.title; // Assuming your JSON data includes a 'title' field

            const description = document.createElement('p');
            description.classList.add('card-text');
            description.textContent = movie.description; // Assuming your JSON data includes a 'description' field

            const link = document.createElement('a');
            link.href = '#'; // Replace with your booking link
            link.classList.add('btn', 'btn-primary');
            link.textContent = 'Book Now';

            // Append elements to build the movie card
            cardBody.appendChild(title);
            cardBody.appendChild(description);
            cardBody.appendChild(link);
            card.appendChild(img);
            card.appendChild(cardBody);
            cardDiv.appendChild(card);
            movieContainer.appendChild(cardDiv);
          });
        })
        .catch((error) => {
          console.error('Error fetching data:', error);
        });
    }

    // Call the function to fetch and display movies
    fetchMovies();
  </script>
</body>
</html>
